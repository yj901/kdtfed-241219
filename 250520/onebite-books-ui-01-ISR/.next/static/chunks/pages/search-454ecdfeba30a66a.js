(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[603],{5243:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/search",function(){return r(7413)}])},9452:function(e,t,r){"use strict";var n=r(5893),s=r(1664),a=r.n(s),c=r(7038),o=r.n(c);t.Z=e=>{let{id:t,title:r,subTitle:s,description:c,author:i,publisher:u,coverImgUrl:l}=e;return(0,n.jsxs)(a(),{href:"/book/".concat(t),className:o().container,children:[(0,n.jsx)("img",{src:l}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:o().title,children:r}),(0,n.jsx)("div",{className:o().subTitle,children:s}),(0,n.jsx)("br",{}),(0,n.jsxs)("div",{className:o().author,children:[i," | ",u]})]})]})}},5318:function(e,t,r){"use strict";var n=r(5893),s=r(7294),a=r(1163),c=r(7506),o=r.n(c);t.Z=e=>{let{children:t}=e,[r,c]=(0,s.useState)(""),i=(0,a.useRouter)(),u=i.query.q;(0,s.useEffect)(()=>{c(u||"")},[u]);let l=e=>{e.preventDefault(),r&&i.push("/search?q=".concat(r))};return(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{children:(0,n.jsxs)("form",{className:o().searchbar_container,onSubmit:l,children:[(0,n.jsx)("input",{value:r,type:"text",onKeyDown:e=>{"Enter"===e.key&&l(e)},onChange:e=>{c(e.target.value)},placeholder:"검색어를 입력하세요..."}),(0,n.jsx)("input",{type:"submit",value:"검색"})]})}),t]})}},7413:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return l}});var n=r(5893),s=r(7294),a=r(1163),c=r(5318),o=r(9452);let i=async e=>{let t="http://localhost:12345/book";e&&(t+="/search?q=".concat(e));try{let e=await fetch(t);if(!e.ok)throw Error();return await e.json()}catch(e){return console.error(e),[]}},u=()=>{let[e,t]=(0,s.useState)([]),{query:{q:r}}=(0,a.useRouter)(),c=async()=>{t(await i(r))};return(0,s.useEffect)(()=>{r&&c()},[r]),(0,n.jsx)("div",{children:e.map(e=>(0,n.jsx)(o.Z,{...e},e.id))})};u.getLayout=e=>(0,n.jsx)(c.Z,{children:e});var l=u},7038:function(e){e.exports={container:"book-item_container__9dTGW",title:"book-item_title__68Gv9",subTitle:"book-item_subTitle__qLFzP",author:"book-item_author__gZbmo"}},7506:function(e){e.exports={searchbar_container:"searchable-layout_searchbar_container__cxlem"}},1163:function(e,t,r){e.exports=r(3079)}},function(e){e.O(0,[888,774,179],function(){return e(e.s=5243)}),_N_E=e.O()}]);